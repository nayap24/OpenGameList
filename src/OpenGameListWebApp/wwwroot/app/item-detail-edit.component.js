"use strict";var __decorate=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),router_1=require("@angular/router"),item_1=require("./item"),item_service_1=require("./item.service"),ItemDetailEditComponent=function(){function e(e,t,n){this.itemService=e,this.router=t,this.activatedRoute=n}return e.prototype.ngOnInit=function(){var e=this,t=+this.activatedRoute.snapshot.params.id;t?this.itemService.get(t).subscribe(function(t){return e.item=t}):0===t?(console.log("id is 0: adding new item..."),this.item=new item_1.Item(0,"New Item",null)):(console.log("Invalid id: routing back to home..."),this.router.navigate([""]))},e.prototype.onInsert=function(e){var t=this;this.itemService.add(e).subscribe(function(e){t.item=e,console.log("Item "+t.item.Id+" has been added."),t.router.navigate([""])},function(e){return console.log(e)})},e.prototype.onUpdate=function(e){var t=this;this.itemService.update(e).subscribe(function(e){t.item=e,console.log("Item "+t.item.Id+" has been updated."),t.router.navigate(["item/view",t.item.Id])},function(e){return console.log(e)})},e.prototype.onDelete=function(e){var t=this,n=e.Id;this.itemService.delete(n).subscribe(function(e){console.log("Item "+n+" has been deleted."),t.router.navigate([""])},function(e){return console.log(e)})},e.prototype.onBack=function(){this.router.navigate([""])},e.prototype.onItemDetailView=function(e){this.router.navigate(["item/view",e.Id])},e=__decorate([core_1.Component({selector:"item-detail-edit",template:'\n        <div *ngIf="item" class="item-container">\n            <div class="item-tab-menu">\n                <span class="selected">Edit</span>\n                <span *ngIf="item.Id != 0" (click)="onItemDetailView(item)">View</span>\n            </div>\n            <div class="item-details">\n                <div class="mode">Edit Mode</div>\n                <h2>{{item.Title}}</h2>\n                <ul>\n                    <li>\n                        <label>Title:</label>\n                        <input [(ngModel)]="item.Title" placeholder="Insert the title...">\n                    </li>\n                    <li>\n                        <label>Description:</label>\n                        <textarea [(ngModel)]="item.Description" placeholder="Insert a suitable description..."></textarea>\n                    </li>\n                </ul>\n                <div *ngIf="item.Id == 0" class="commands insert">\n                    <input type="button" value="Save" (click)="onInsert(item)" />\n                    <input type="button" value="Cancel" (click)="onBack()" />\n                </div>\n                <div *ngIf="item.Id != 0" class="commands update">\n                    <input type="button" value="Update" (click)="onUpdate(item)" />\n                    <input type="button" value="Delete" (click)="onDelete(item)" />\n                    <input type="button" value="Cancel" (click)="onItemDetailView(item)" />\n                </div>\n            </div>\n        </div>\n    ',styles:['\n        .item-container {\n            width: 600px;\n        }\n        .item-tab-menu {\n            margin-right: 30px;\n        }\n        .item-tab-menu span {\n            background-color: #dddddd;\n            border: 1px solid #666666;\n            border-bottom: 0;\n            cursor: pointer;\n            display: block;\n            float: right;\n            margin: 0 0 -1px 5px;\n            padding: 5px 10px 4px 10px;\n            text-align: center;\n            width: 60px;\n        }\n        .item-tab-menu span.selected {\n            background-color: #eeeeee;\n            cursor: auto;\n            font-weight: bold;\n            padding-bottom: 5px;\n        }\n        .item-details {\n            background-color: #eeeeee;\n            border: 1px solid black;\n            clear: both;\n            margin: 0;\n            padding: 5px 10px;\n        }\n        .item-details * {\n            vertical-align: middle;\n        }\n        .item-details .mode {\n            font-size: 0.8em;\n            color: #777777;\n        }\n        .item-details ul li {\n            padding: 5px 0;\n        }\n        .item-details input[type="text"] {\n            display: block;\n            width: 100%;\n        }\n        .item-details textarea {\n            display: block;\n            width: 100%;\n            height: 60px;\n        }\n        .commands {\n            text-align: right;\n            margin: 10px 20px 10px 10px;\n        }\n    ']}),__metadata("design:paramtypes",[item_service_1.ItemService,router_1.Router,router_1.ActivatedRoute])],e)}();exports.ItemDetailEditComponent=ItemDetailEditComponent;
//# sourceMappingURL=item-detail-edit.component.js.map
