"use strict";var __decorate=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(o<3?a(r):o>3?a(t,i,r):a(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),router_1=require("@angular/router"),item_1=require("./item"),item_service_1=require("./item.service"),ItemDetailEditComponent=function(){function e(e,t,i){this.itemService=e,this.router=t,this.activatedRoute=i}return e.prototype.ngOnInit=function(){var e=this,t=+this.activatedRoute.snapshot.params.id;t?this.itemService.get(t).subscribe(function(t){return e.item=t}):0===t?(console.log("id is 0: adding new item..."),this.item=new item_1.Item(0,"New Item",null)):(console.log("Invalid id: routing back to home..."),this.router.navigate([""]))},e.prototype.onInsert=function(e){var t=this;this.itemService.add(e).subscribe(function(e){t.item=e,console.log("Item "+t.item.Id+" has been added."),t.router.navigate([""])},function(e){return console.log(e)})},e.prototype.onUpdate=function(e){var t=this;this.itemService.update(e).subscribe(function(e){t.item=e,console.log("Item "+t.item.Id+" has been updated."),t.router.navigate(["item/view",t.item.Id])},function(e){return console.log(e)})},e.prototype.onDelete=function(e){var t=this,i=e.Id;this.itemService.delete(i).subscribe(function(e){console.log("Item "+i+" has been deleted."),t.router.navigate([""])},function(e){return console.log(e)})},e.prototype.onBack=function(){this.router.navigate([""])},e.prototype.onItemDetailView=function(e){this.router.navigate(["item/view",e.Id])},e=__decorate([core_1.Component({selector:"item-detail-edit",template:'\n        <div *ngIf="item">\n            <h2>\n                <a href="javascript:void(0)" (click)="onBack()">\n                    &laquo; Back to Home\n                </a>\n            </h2>\n            <div class="item-container">\n                <ul class="nav nav-tabs">\n                    <li role="presentation" class="active">\n                        <a href="javascript:void(0)">Edit</a>\n                    </li>\n                    <li role="presentation" *ngIf="item.Id != 0">\n                        <a href="javascript:void(0)" (click)="onItemDetailView(item)">View</a>\n                    </li>\n                </ul>\n                <div class="panel panel-default">\n                    <div class="panel-body">\n                        <form class="item-detail-edit">\n                            <h3>\n                                {{item.Title}}\n                                <span class="empty-field" [hidden]="dTitle.valid">\n                                    Empty Title\n                                </span>\n                            </h3>\n                            <div class="form-group has-feedback" [ngClass]="{\'has-success\': dTitle.valid, \'has-error\': !dTitle.valid}">\n                                <label for="input-title">Title</label>\n                                <input id="input-title" name="input-title" type="text" class="form-control" [(ngModel)]="item.Title" placeholder="Insert the title..." required #dTitle="ngModel" />\n                                <span class="glyphicon form-control-feedback" aria-hidden="true" [ngClass]="{\'glyphicon-ok\': dTitle.valid, \'glyphicon-remove\': !dTitle.valid}"></span>\n                                <div [hidden]=" dTitle.valid" class="alert alert-danger">\n                                    You need to enter a valid Title.\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label for="input-description">Description</label>\n                                <textarea id="input-description" name="input-description" class="form-control" [(ngModel)]="item.Description" placeholder="Insert a suitable description..." required></textarea>\n                            </div>\n                            <div class="form-group">\n                                <label for="input-text">Text</label>\n                                <textarea id="input-text" name="input-text" class="form-control" [(ngModel)]="item.Text" placeholder="Insert a suitable description..."></textarea>\n                            </div>\n                            <div *ngIf="item.Id == 0" class="commands insert">\n                                <input type="button" class="btn btn-primary" value="Save" (click)="onInsert(item)" />\n                                <input type="button" class="btn btn-default" value="Cancel" (click)="onBack()" />\n                            </div>\n                            <div *ngIf="item.Id != 0" class="commands update">\n                                <input type="button" class="btn btn-primary" value="Update" (click)="onUpdate(item)" />\n                                <input type="button" class="btn btn-danger" value="Delete" (click)="onDelete(item)" />\n                                <input type="button" class="btn btn-default" value="Cancel" (click)="onItemDetailView(item)" />\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    '}),__metadata("design:paramtypes",[item_service_1.ItemService,router_1.Router,router_1.ActivatedRoute])],e)}();exports.ItemDetailEditComponent=ItemDetailEditComponent;
//# sourceMappingURL=item-detail-edit.component.js.map
